# å¤©æ°”é¸­é¡¹ç›®å¼€å‘æŒ‡å¯¼ - é˜¶æ®µ4ï¼šæ ¸å¿ƒåŠŸèƒ½å®ç° - å¤©æ°”ç»„ä»¶
> æ–‡æ¡£ç‰ˆæœ¬: v1.1  | æ›´æ–°æ—¥æœŸ: 2025-11-13

## ğŸ“‹ é˜¶æ®µæ¦‚è¿°

æœ¬é˜¶æ®µå°†å®ç°å¤©æ°”æ˜¾ç¤ºç›¸å…³çš„æ ¸å¿ƒç»„ä»¶ï¼ŒåŒ…æ‹¬å¤©æ°”å¡ç‰‡ã€é¢„æŠ¥åˆ—è¡¨ã€å¤©æ°”åŠ¨ç”»ç­‰åŠŸèƒ½æ¨¡å—ã€‚

---

## ğŸ¯ æ ¸å¿ƒç›®æ ‡

- âœ… åˆ›å»ºå¤©æ°”å¡ç‰‡ç»„ä»¶ï¼ˆéœ€æ±‚1ã€éœ€æ±‚2ï¼‰
- âœ… å®ç°å¤©æ°”é¢„æŠ¥ç»„ä»¶ï¼ˆéœ€æ±‚3ã€éœ€æ±‚4ï¼‰
- âœ… é›†æˆå¤©æ°”åŠ¨ç”»ç³»ç»Ÿï¼ˆéœ€æ±‚2ï¼‰
- âœ… åˆ›å»ºå¤©æ°”å›¾æ ‡æ˜ å°„

---

## æ ‡å‡†ç« èŠ‚è¡¥å……

### æ¦‚è¿°
- æœ¬é˜¶æ®µå›´ç»•â€œå¤©æ°”ç»„ä»¶â€çš„å®ç°ä¸é›†æˆï¼Œç›®æ ‡æ˜¯ä»¥ç»Ÿä¸€çš„UIè§„èŒƒå±•ç¤ºå½“å‰å¤©æ°”ã€7å¤©é¢„æŠ¥ä¸24å°æ—¶é¢„æŠ¥ï¼Œå¹¶ç¡®ä¿ç¤ºä¾‹ä»£ç ä¸ç°æœ‰ä»£ç åº“å¯ç›´æ¥å¯¹æ¥ã€‚
- æ•°æ®æ¥æºä¸ºå’Œé£å¤©æ°”QWeather APIï¼Œå½“å‰é¡¹ç›®ä»¥å“åº”ä½“ä¸­çš„`code`å­—æ®µè¿›è¡ŒçŠ¶æ€åˆ¤æ–­ï¼ˆv1é”™è¯¯ç è¯­ä¹‰ï¼‰ã€‚

### æ¥å£å®šä¹‰
- åŸºç¡€Hostä¸ç‰ˆæœ¬ï¼š`QWEATHER_API_CONFIG.BASE_URL`ï¼ˆHTTPSï¼‰ä¸`QWEATHER_API_CONFIG.VERSION`ï¼ˆä¾‹å¦‚`v7`ï¼‰ã€‚
- ä¸»è¦ç«¯ç‚¹ï¼š
  - å½“å‰å¤©æ°”ï¼š`/weather/now`
  - 7å¤©é¢„æŠ¥ï¼š`/weather/7d`
  - 24å°æ—¶é¢„æŠ¥ï¼š`/weather/24h`
- GeoAPIç«¯ç‚¹ï¼ˆåŸå¸‚æœç´¢ç­‰ï¼‰ï¼š`QWEATHER_GEO_CONFIG.VERSION + /city/lookup`
- é¡¹ç›®å†…é€‚é…ï¼šé€šè¿‡`WeatherService`ä¸`CityService`å°è£…HTTPè®¿é—®ã€ç¼“å­˜ä¸é”™è¯¯å¤„ç†ã€‚

### è¯·æ±‚å‚æ•°
- å¿…é€‰å‚æ•°ï¼š`location`ï¼ˆåŸå¸‚LocationIDæˆ–åæ ‡ï¼‰ã€`key`ï¼ˆAPI KEYï¼‰ã€‚
- å¯é€‰å‚æ•°ï¼š`lang`ã€`number`ã€`adm`ã€`range`ï¼ˆåŸå¸‚æœç´¢ï¼‰ï¼›è¯·æ±‚è¶…æ—¶ã€é‡è¯•æ¬¡æ•°ç­‰é€šè¿‡`API_REQUEST_CONFIG`ç»Ÿä¸€æ§åˆ¶ã€‚
- å®‰å…¨è¦æ±‚ï¼šAPI KEYå¿…é¡»æ¥æºäºç¯å¢ƒå˜é‡`import.meta.env.VITE_QWEATHER_API_KEY`ï¼Œä¸”ä½¿ç”¨HTTPS Hostã€‚

### å“åº”æ ¼å¼
- é¡¹ç›®ç±»å‹å®šä¹‰ï¼š`QWeatherResponse<T>`ã€`CurrentWeather`ã€`WeatherForecast`ã€`HourlyWeather`ï¼ˆè§`src/types/weather.ts`ï¼‰ã€‚
- çŠ¶æ€åˆ¤æ–­ï¼šä»¥`response.code`ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¸ºåŸºå‡†ï¼Œ`200`ä¸ºæˆåŠŸï¼Œ`204`è¡¨ç¤ºæš‚æ— æ•°æ®ï¼Œå…¶ä½™æŒ‰é”™è¯¯å¤„ç†è§„èŒƒæŠ›å‡ºè‡ªå®šä¹‰é”™è¯¯ã€‚

### é”™è¯¯ä»£ç 
- ä¸å’Œé£å¤©æ°”é”™è¯¯ç v1ä¸€è‡´ï¼š`200`æˆåŠŸã€`204`æ— æ•°æ®ã€`400`è¯·æ±‚é”™è¯¯ã€`401`è®¤è¯å¤±è´¥ã€`402`é¢åº¦ä¸è¶³ã€`403`æ— æƒé™ã€`404`ä¸å­˜åœ¨ã€`429`è¶…QPMã€`500`æœåŠ¡å¼‚å¸¸ã€‚
- ç»“åˆé¡¹ç›®é”™è¯¯ä½“ç³»ï¼šç»Ÿä¸€æŠ›å‡º`ApiError`ã€`NetworkError`ã€`TimeoutError`ç­‰ï¼ˆè§`src/utils/errors.ts`ï¼‰ï¼Œå¹¶åœ¨UIå±‚è¿›è¡Œå‹å¥½æç¤ºä¸é‡è¯•ç­–ç•¥ã€‚

### ç¤ºä¾‹ä»£ç ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰
```tsx
import React, { useEffect, useState } from 'react'
import { Card } from '@/components/Card'
import { Icon } from '@/components/Icon'
import { WeatherService } from '@/services/weather-service'
import { API_REQUEST_CONFIG, DEFAULT_CITY_CONFIG, QWEATHER_API_CONFIG } from '@/config/api-config'
import type { CurrentWeather } from '@/types/weather'

const service = new WeatherService()

export const WeatherDemo: React.FC = () => {
  const [weather, setWeather] = useState<CurrentWeather | null>(null)
  const [error, setError] = useState<string | null>(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    const run = async () => {
      try {
        if (!API_REQUEST_CONFIG.API_KEY || API_REQUEST_CONFIG.API_KEY.length !== 32) {
          throw new Error('ç¼ºå°‘æˆ–éæ³•çš„å’Œé£å¤©æ°” API å¯†é’¥')
        }
        if (!String(QWEATHER_API_CONFIG.BASE_URL).startsWith('https://')) {
          throw new Error('API Host å¿…é¡»ä½¿ç”¨ HTTPS')
        }
        const data = await service.getCurrentWeather(DEFAULT_CITY_CONFIG.CITY_ID)
        setWeather(data)
      } catch (e: any) {
        setError(e?.message || 'è·å–å¤©æ°”å¤±è´¥')
      } finally {
        setLoading(false)
      }
    }
    run()
  }, [])

  if (loading) {
    return <Card padding="md">åŠ è½½ä¸­...</Card>
  }
  if (error) {
    return (
      <Card padding="md">
        <div className="text-red-600 flex items-center">
          <Icon name="AlertCircle" size={18} className="mr-2" />
          {error}
        </div>
      </Card>
    )
  }

  return (
    <Card variant="glass" padding="lg" className="space-y-2">
      <div className="flex items-center justify-between">
        <div className="text-6xl font-bold text-blue-900">{Math.round(Number(weather!.temp))}Â°</div>
        <div className="text-right">
          <div className="text-lg font-medium text-blue-900">{weather!.text}</div>
          <div className="text-sm text-blue-600">ä½“æ„Ÿ {Math.round(Number(weather!.feelsLike))}Â°</div>
        </div>
      </div>
      <div className="grid grid-cols-4 gap-2 pt-3 border-t border-blue-200">
        <div className="text-center">
          <Icon name="Droplets" size={16} className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">æ¹¿åº¦</div>
          <div className="text-sm font-bold text-blue-900">{weather!.humidity}%</div>
        </div>
        <div className="text-center">
          <Icon name="Wind" size={16} className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">é£é€Ÿ</div>
          <div className="text-sm font-bold text-blue-900">{weather!.windSpeed}km/h</div>
        </div>
        <div className="text-center">
          <Icon name="Gauge" size={16} className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">æ°”å‹</div>
          <div className="text-sm font-bold text-blue-900">{weather!.pressure}hPa</div>
        </div>
        <div className="text-center">
          <Icon name="Eye" size={16} className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">èƒ½è§åº¦</div>
          <div className="text-sm font-bold text-blue-900">{weather!.vis}km</div>
        </div>
      </div>
    </Card>
  )
}
```

---

## ğŸ“– é€‚ç”¨è§„èŒƒæ¸…å•

### æ ¸å¿ƒè§„èŒƒ

#### å¼€å‘éœ€æ±‚è§„èŒƒ
æ–‡ä»¶è·¯å¾„: `.qoder/rules/requirements-spec.zh-CN.md`

- **[è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI** â†’ ç¬¬48è¡Œ
- **[è§„åˆ™ 11] ä¸¥æ ¼éµå¾ªæä¾›çš„ç¤ºä¾‹** â†’ ç¬¬183è¡Œ
- **[è§„åˆ™ 12] å°Šé‡é¡¹ç›®å‘½åçº¦å®š** â†’ ç¬¬191è¡Œ

#### å‘½åçº¦å®š
æ–‡ä»¶è·¯å¾„: `.qoder/rules/naming-conventions.zh-CN.md`

- **[çº¦å®š 2] å‡½æ•°å‘½å** â†’ ç¬¬54è¡Œ (camelCase)
- **[çº¦å®š 4] å¸¸é‡å‘½å** â†’ ç¬¬118è¡Œ (UPPER_SNAKE_CASE)
- **[çº¦å®š 6] ç»„ä»¶å‘½å** â†’ ç¬¬190è¡Œ (PascalCase)
- **[çº¦å®š 10] ç±»å‹/æ¥å£å‘½å** â†’ ç¬¬307è¡Œ (PascalCase)

### è´¨é‡è§„èŒƒ

#### æµ‹è¯•è§„èŒƒ
æ–‡ä»¶è·¯å¾„: `.qoder/rules/testing-spec.zh-CN.md`

- **[è§„åˆ™ 1] æµ‹è¯•å®Œæ•´æ€§** â†’ ç¬¬20è¡Œ
- **[è§„åˆ™ 3] æµ‹è¯•åˆ†å±‚ç­–ç•¥** â†’ ç¬¬75è¡Œ

#### é”™è¯¯å¤„ç†è§„èŒƒ
æ–‡ä»¶è·¯å¾„: `.qoder/rules/error-handling-spec.zh-CN.md`

- **[è§„åˆ™ 3] ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º** â†’ ç¬¬116è¡Œ

### éœ€æ±‚éªŒæ”¶å‚è€ƒ

#### éœ€æ±‚æ–‡æ¡£
æ–‡ä»¶è·¯å¾„: `requirements.md`

- **éœ€æ±‚1: ç°ä»£åŒ–UIè®¾è®¡æ”¹è¿›** â†’ ç¬¬9-20è¡Œ
  - éªŒæ”¶æ ‡å‡†: Material Design 3æˆ–Fluent Designé£æ ¼
  - æ¯›ç»ç’ƒæ•ˆæœå’Œå¡ç‰‡å¸ƒå±€è¦æ±‚

- **éœ€æ±‚2: ä¸°å¯Œçš„å¤©æ°”åŠ¨ç”»ç³»ç»Ÿ** â†’ ç¬¬21-34è¡Œ
  - æ™´å¤©ã€é›¨å¤©ã€é›ªå¤©ç­‰å¤©æ°”åŠ¨ç”»
  - 2ç§’å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

- **éœ€æ±‚6: ç°ä»£åŒ–å¡ç‰‡å¼å¸ƒå±€è®¾è®¡** â†’ ç¬¬72-84è¡Œ
  - è“è‰²æ¸å˜èƒŒæ™¯å’Œæ¯›ç»ç’ƒæ•ˆæœ
  - 2x2ç½‘æ ¼å¸ƒå±€å±•ç¤ºè¯¦ç»†æ•°æ®
  - ç»Ÿä¸€16pxåœ†è§’

- **éœ€æ±‚15: åŸå¸‚é€‰æ‹©å’Œåœ°ç†å®šä½** â†’ ç¬¬201-222è¡Œ
  - é»˜è®¤åŸå¸‚: ä¸Šæµ·å¸‚å®å±±åŒº
  - GeoAPIåŸå¸‚æœç´¢åŠŸèƒ½
  - åœ°ç†å®šä½å’Œé€†åœ°ç†ç¼–ç 

---

## ğŸš€ å®æ–½æ­¥éª¤

### æ­¥éª¤ 4.1ï¼šåˆ›åººå¤©æ°”å›¾æ ‡æ˜ å°„

**é€‚ç”¨è§„èŒƒ**: 
- å‘½åçº¦å®š [çº¦å®š 4] å¸¸é‡å‘½å â†’ ç¬¬118è¡Œ
  - ä½¿ç”¨ UPPER_SNAKE_CASE å‘½åå¸¸é‡
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - æä¾›å®Œæ•´çš„å›¾æ ‡æ˜ å°„è¡¨ï¼Œæ— å ä½ç¬¦

**åˆ›å»º src/constants/weather-icons.ts**:

```typescript
import type { IconName } from '@/components/Icon';

/**
 * å’Œé£å¤©æ°”å›¾æ ‡ä»£ç åˆ°Lucideå›¾æ ‡çš„æ˜ å°„
 * éµå¾ªå‘½åçº¦å®šï¼šå¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE
 */

export const WEATHER_ICON_MAP: Record<string, IconName> = {
  // æ™´å¤©
  '100': 'Sun',              // æ™´
  '101': 'CloudSun',         // å¤šäº‘
  '102': 'Cloud',            // å°‘äº‘
  '103': 'Cloud',            // æ™´é—´å¤šäº‘
  
  // é˜´å¤©
  '104': 'Cloud',            // é˜´
  
  // é›¨å¤©
  '300': 'CloudDrizzle',     // é˜µé›¨
  '301': 'CloudRain',        // å¼ºé˜µé›¨
  '302': 'CloudLightning',   // é›·é˜µé›¨
  '303': 'CloudLightning',   // å¼ºé›·é˜µé›¨
  '304': 'CloudRainWind',    // é›·é˜µé›¨ä¼´æœ‰å†°é›¹
  '305': 'CloudDrizzle',     // å°é›¨
  '306': 'CloudRain',        // ä¸­é›¨
  '307': 'CloudRain',        // å¤§é›¨
  '308': 'CloudRain',        // æç«¯é™é›¨
  '309': 'CloudDrizzle',     // æ¯›æ¯›é›¨/ç»†é›¨
  '310': 'CloudRain',        // æš´é›¨
  '311': 'CloudRain',        // å¤§æš´é›¨
  '312': 'CloudRain',        // ç‰¹å¤§æš´é›¨
  '313': 'CloudRainWind',    // å†»é›¨
  '314': 'CloudDrizzle',     // å°åˆ°ä¸­é›¨
  '315': 'CloudRain',        // ä¸­åˆ°å¤§é›¨
  '316': 'CloudRain',        // å¤§åˆ°æš´é›¨
  '317': 'CloudRain',        // æš´é›¨åˆ°å¤§æš´é›¨
  '318': 'CloudRain',        // å¤§æš´é›¨åˆ°ç‰¹å¤§æš´é›¨
  
  // é›ªå¤©
  '400': 'CloudSnow',        // é˜µé›ª
  '401': 'Snowflake',        // å¼ºé˜µé›ª
  '402': 'CloudSnow',        // é›¨å¤¹é›ª
  '403': 'CloudSnow',        // å¼ºé›¨å¤¹é›ª
  '404': 'CloudDrizzle',     // é›¨é›ªå¤©æ°”
  '405': 'CloudSnow',        // å°é›ª
  '406': 'CloudSnow',        // ä¸­é›ª
  '407': 'Snowflake',        // å¤§é›ª
  '408': 'Snowflake',        // æš´é›ª
  '409': 'CloudSnow',        // å°åˆ°ä¸­é›ª
  '410': 'CloudSnow',        // ä¸­åˆ°å¤§é›ª
  '456': 'CloudSnow',        // é˜µé›¨å¤¹é›ª
  '457': 'CloudSnow',        // å¼ºé˜µé›¨å¤¹é›ª
  
  // é›¾éœ¾
  '500': 'CloudFog',         // è–„é›¾
  '501': 'CloudFog',         // é›¾
  '502': 'CloudFog',         // éœ¾
  '503': 'Wind',             // æ‰¬æ²™
  '504': 'Wind',             // æµ®å°˜
  '507': 'Wind',             // æ²™å°˜æš´
  '508': 'Wind',             // å¼ºæ²™å°˜æš´
  '509': 'CloudFog',         // æµ“é›¾
  '510': 'CloudFog',         // å¼ºæµ“é›¾
  '511': 'CloudFog',         // ä¸­åº¦éœ¾
  '512': 'CloudFog',         // é‡åº¦éœ¾
  '513': 'CloudFog',         // ä¸¥é‡éœ¾
  '514': 'CloudFog',         // å¤§é›¾
  '515': 'CloudFog',         // ç‰¹å¼ºæµ“é›¾
  
  // å…¶ä»–
  '900': 'Thermometer',      // çƒ­
  '901': 'Snowflake',        // å†·
  '999': 'HelpCircle',       // æœªçŸ¥
} as const;

/**
 * æ ¹æ®å¤©æ°”ä»£ç è·å–å›¾æ ‡åç§°
 */
export function getWeatherIcon(code: string): IconName {
  return WEATHER_ICON_MAP[code] || 'HelpCircle';
}

/**
 * å¤©æ°”æè¿°é¢œè‰²æ˜ å°„
 */
export const WEATHER_COLOR_MAP: Record<string, string> = {
  // æ™´å¤©ç³»åˆ— - é‡‘è‰²
  '100': '#FFB300',
  '101': '#FFA000',
  '102': '#FF8F00',
  '103': '#FF6F00',
  
  // é˜´å¤©ç³»åˆ— - ç°è‰²
  '104': '#78909C',
  
  // é›¨å¤©ç³»åˆ— - è“è‰²
  '300': '#42A5F5',
  '301': '#1E88E5',
  '302': '#1565C0',
  '303': '#0D47A1',
  '305': '#64B5F6',
  '306': '#42A5F5',
  '307': '#1E88E5',
  '308': '#1565C0',
  '310': '#1565C0',
  '311': '#0D47A1',
  '312': '#0D47A1',
  
  // é›ªå¤©ç³»åˆ— - æ·¡è“/ç™½è‰²
  '400': '#E3F2FD',
  '405': '#BBDEFB',
  '406': '#90CAF9',
  '407': '#64B5F6',
  '408': '#42A5F5',
  
  // é›¾éœ¾ç³»åˆ— - ç°è¤è‰²
  '500': '#B0BEC5',
  '501': '#90A4AE',
  '502': '#78909C',
  '509': '#607D8B',
  '510': '#546E7A',
} as const;

/**
 * æ ¹æ®å¤©æ°”ä»£ç è·å–é¢œè‰²
 */
export function getWeatherColor(code: string): string {
  return WEATHER_COLOR_MAP[code] || '#3B82F6';
}
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASEï¼ˆçº¦å®š4ï¼šWEATHER_ICON_MAPã€WEATHER_COLOR_MAPï¼‰
- [ ] å›¾æ ‡æ˜ å°„å®Œæ•´ï¼ˆè§„åˆ™1ï¼šè¦†ç›–æ‰€æœ‰å¤©æ°”çŠ¶æ€ï¼ŒåŒ…æ‹¬æ™´å¤©ã€é›¨å¤©ã€é›ªå¤©ã€é›¾éœ¾ç­‰ï¼‰
- [ ] é¢œè‰²æ˜ å°„åˆç†ï¼ˆéœ€æ±‚2ï¼šä¸åŒå¤©æ°”ä½¿ç”¨ä¸åŒé¢œè‰²ä¸»é¢˜ï¼‰
- [ ] å·¥å…·å‡½æ•°å®Œæ•´ï¼ˆè§„åˆ™1ï¼šgetWeatherIconå’ŒgetWeatherColorå‡½æ•°ï¼‰
- [ ] å‡½æ•°å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š2ï¼šgetWeatherIconä½¿ç”¨camelCaseï¼‰
- [ ] ä½¿ç”¨as constç¡®ä¿ç±»å‹å®‰å…¨ï¼ˆè§„åˆ™1ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰ï¼‰

---

### æ­¥éª¤ 4.2ï¼šåˆ›å»ºå¤©æ°”å¡ç‰‡ç»„ä»¶

**é€‚ç”¨è§„èŒƒ**: 
- å‘½åçº¦å®š [çº¦å®š 6] ç»„ä»¶å‘½å (PascalCase) â†’ ç¬¬190è¡Œ
  - WeatherCardç»„ä»¶ä½¿ç”¨PascalCaseå‘½å
- å‘½åçº¦å®š [çº¦å®š 10] ç±»å‹/æ¥å£å‘½å (PascalCase) â†’ ç¬¬315è¡Œ
  - WeatherCardPropsæ¥å£ä½¿ç”¨PascalCase + Propsåç¼€
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI â†’ ç¬¬48è¡Œ
  - å¤ç”¨Cardã€Iconç­‰åŸºç¡€ç»„ä»¶ï¼Œå¤ç”¨getWeatherIconç­‰å·¥å…·å‡½æ•°
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - æä¾›å®Œæ•´çš„WeatherCardç»„ä»¶å®ç°
- å‘½åçº¦å®š [çº¦å®š 2] å‡½æ•°å‘½å (camelCase) â†’ ç¬¬54è¡Œ
  - äº‹ä»¶å¤„ç†å‡½æ•°ä½¿ç”¨camelCaseï¼ˆonClickç­‰ï¼‰

**åˆ›å»º src/components/Weather/WeatherCard.tsx**:

```typescript
import React from 'react';
import { Card } from '@/components/Card';
import { Icon } from '@/components/Icon';
import { getWeatherIcon, getWeatherColor } from '@/constants/weather-icons';
import type { CurrentWeather } from '@/types/weather';
import { cn } from '@/utils/cn';

export interface WeatherCardProps {
  weather: CurrentWeather;
  cityName?: string;
  className?: string;
  onClick?: () => void;
}

/**
 * WeatherCard å¤©æ°”å¡ç‰‡ç»„ä»¶
 * æ˜¾ç¤ºå½“å‰å¤©æ°”çš„æ ¸å¿ƒä¿¡æ¯
 * éµå¾ªå‘½åçº¦å®šï¼šç»„ä»¶å PascalCaseï¼ŒPropsæ¥å£ PascalCase + Propsåç¼€
 */
export const WeatherCard: React.FC<WeatherCardProps> = ({
  weather,
  cityName,
  className,
  onClick,
}) => {
  const iconName = getWeatherIcon(weather.icon);
  const weatherColor = getWeatherColor(weather.icon);

  return (
    <Card 
      variant="glass" 
      className={cn('relative overflow-hidden', className)}
      onClick={onClick}
    >
      {/* èƒŒæ™¯è£…é¥° */}
      <div 
        className="absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl opacity-20"
        style={{ background: weatherColor }}
      />

      {/* åŸå¸‚åç§° */}
      {cityName && (
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-lg font-bold text-blue-900">
            <Icon name="MapPin" size={18} className="inline mr-1" />
            {cityName}
          </h3>
        </div>
      )}

      {/* ä¸»è¦å¤©æ°”ä¿¡æ¯ */}
      <div className="flex items-center justify-between mb-4">
        {/* æ¸©åº¦ */}
        <div>
          <div className="text-6xl font-bold text-blue-900">
            {Math.round(Number(weather.temp))}Â°
          </div>
          <div className="text-sm text-blue-600 mt-1">
            ä½“æ„Ÿ {Math.round(Number(weather.feelsLike))}Â°
          </div>
        </div>

        {/* å¤©æ°”å›¾æ ‡å’Œæè¿° */}
        <div className="text-center">
          <Icon 
            name={iconName} 
            size={64} 
            color={weatherColor}
            className="mb-2"
          />
          <div className="text-lg font-medium text-blue-900">
            {weather.text}
          </div>
        </div>
      </div>

      {/* è¯¦ç»†ä¿¡æ¯ */}
      <div className="grid grid-cols-4 gap-2 pt-3 border-t border-blue-200">
        <div className="text-center">
          <Icon name="Droplets" size={16} color="#64B5F6" className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">æ¹¿åº¦</div>
          <div className="text-sm font-bold text-blue-900">{weather.humidity}%</div>
        </div>

        <div className="text-center">
          <Icon name="Wind" size={16} color="#64B5F6" className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">é£é€Ÿ</div>
          <div className="text-sm font-bold text-blue-900">{weather.windSpeed}km/h</div>
        </div>

        <div className="text-center">
          <Icon name="Gauge" size={16} color="#64B5F6" className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">æ°”å‹</div>
          <div className="text-sm font-bold text-blue-900">{weather.pressure}hPa</div>
        </div>

        <div className="text-center">
          <Icon name="Eye" size={16} color="#64B5F6" className="mx-auto mb-1" />
          <div className="text-xs text-blue-600">èƒ½è§åº¦</div>
          <div className="text-sm font-bold text-blue-900">{weather.vis}km</div>
        </div>
      </div>

      {/* æ›´æ–°æ—¶é—´ */}
      <div className="mt-3 text-xs text-blue-500 text-center">
        æ›´æ–°äº {new Date(weather.obsTime).toLocaleTimeString('zh-CN', {
          hour: '2-digit',
          minute: '2-digit'
        })}
      </div>
    </Card>
  );
};
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç»„ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š6ï¼šWeatherCardä½¿ç”¨PascalCaseï¼‰
- [ ] Propsæ¥å£å‘½åæ­£ç¡®ï¼ˆçº¦å®š10ï¼šWeatherCardPropsä½¿ç”¨PascalCase + Propsåç¼€ï¼‰
- [ ] å¤©æ°”ä¿¡æ¯æ˜¾ç¤ºå®Œæ•´ï¼ˆè§„åˆ™1ï¼šæ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿç­‰æ‰€æœ‰æŒ‡æ ‡ï¼‰
- [ ] è§†è§‰æ•ˆæœç¬¦åˆè®¾è®¡ï¼ˆéœ€æ±‚1ï¼šæ¯›ç»ç’ƒæ•ˆæœå’Œå¡ç‰‡å¸ƒå±€ï¼‰
- [ ] å¤ç”¨ç°æœ‰ç»„ä»¶ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨Cardã€Iconç»„ä»¶ï¼‰
- [ ] å›¾æ ‡å’Œé¢œè‰²æ˜ å°„æ­£ç¡®ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨getWeatherIconå’ŒgetWeatherColorï¼‰
- [ ] ä»£ç å¯ç«‹å³è¿è¡Œï¼ˆè§„åˆ™1ï¼šå®Œæ•´å®ç°ï¼ŒåŒ…å«æ‰€æœ‰å¿…è¦çš„importï¼‰

---

### æ­¥éª¤ 4.3ï¼šåˆ›å»ºå¤©æ°”é¢„æŠ¥åˆ—è¡¨ç»„ä»¶

**é€‚ç”¨è§„èŒƒ**: 
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI â†’ ç¬¬48è¡Œ
  - å¤ç”¨getWeatherIconã€getWeatherColorå·¥å…·å‡½æ•°
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 9] åŠŸèƒ½ä¼˜å…ˆäºå®Œç¾ â†’ ç¬¬163è¡Œ
  - å…ˆå®ç°åŸºç¡€é¢„æŠ¥å±•ç¤ºï¼Œåç»­å¯å¢åŠ äº¤äº’åŠŸèƒ½
- å‘½åçº¦å®š [çº¦å®š 6] ç»„ä»¶å‘½å (PascalCase) â†’ ç¬¬190è¡Œ
  - ForecastListç»„ä»¶ä½¿ç”¨PascalCase
- å‘½åçº¦å®š [çº¦å®š 2] å‡½æ•°å‘½å (camelCase) â†’ ç¬¬54è¡Œ
  - formatDateå‡½æ•°ä½¿ç”¨camelCaseï¼ŒåŠ¨è¯å¼€å¤´
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - æä¾›å®Œæ•´çš„7å¤©é¢„æŠ¥åˆ—è¡¨å®ç°

**åˆ›å»º src/components/Weather/ForecastList.tsx**:

```typescript
import React from 'react';
import { Card } from '@/components/Card';
import { Icon } from '@/components/Icon';
import { getWeatherIcon, getWeatherColor } from '@/constants/weather-icons';
import type { WeatherForecast } from '@/types/weather';
import { cn } from '@/utils/cn';

export interface ForecastListProps {
  forecasts: WeatherForecast[];
  className?: string;
}

/**
 * ForecastList å¤©æ°”é¢„æŠ¥åˆ—è¡¨ç»„ä»¶
 * æ˜¾ç¤ºæœªæ¥7å¤©çš„å¤©æ°”é¢„æŠ¥
 */
export const ForecastList: React.FC<ForecastListProps> = ({
  forecasts,
  className,
}) => {
  /**
   * æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤º
   * éµå¾ªå‘½åçº¦å®šï¼šå‡½æ•°å camelCaseï¼ŒåŠ¨è¯å¼€å¤´
   */
  const formatDate = (dateStr: string): string => {
    const date = new Date(dateStr);
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);

    if (date.toDateString() === today.toDateString()) {
      return 'ä»Šå¤©';
    }
    if (date.toDateString() === tomorrow.toDateString()) {
      return 'æ˜å¤©';
    }

    const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
    return weekdays[date.getDay()];
  };

  return (
    <div className={cn('space-y-2', className)}>
      <h3 className="text-lg font-bold text-blue-900 mb-3">
        <Icon name="Calendar" size={20} className="inline mr-2" />
        7å¤©é¢„æŠ¥
      </h3>

      {forecasts.map((forecast, index) => {
        const dayIcon = getWeatherIcon(forecast.iconDay);
        const dayColor = getWeatherColor(forecast.iconDay);

        return (
          <Card 
            key={forecast.fxDate}
            variant="glass"
            hoverable
            className="transition-all duration-300"
          >
            <div className="flex items-center justify-between">
              {/* æ—¥æœŸ */}
              <div className="flex-1">
                <div className="font-bold text-blue-900">
                  {formatDate(forecast.fxDate)}
                </div>
                <div className="text-xs text-blue-600">
                  {new Date(forecast.fxDate).toLocaleDateString('zh-CN', {
                    month: '2-digit',
                    day: '2-digit'
                  })}
                </div>
              </div>

              {/* å¤©æ°”å›¾æ ‡å’Œæè¿° */}
              <div className="flex-1 text-center">
                <Icon name={dayIcon} size={32} color={dayColor} className="mx-auto" />
                <div className="text-sm text-blue-900 mt-1">
                  {forecast.textDay}
                </div>
              </div>

              {/* æ¸©åº¦èŒƒå›´ */}
              <div className="flex-1 text-right">
                <div className="text-lg font-bold text-blue-900">
                  {Math.round(Number(forecast.tempMax))}Â°
                </div>
                <div className="text-sm text-blue-600">
                  {Math.round(Number(forecast.tempMin))}Â°
                </div>
              </div>

              {/* é™æ°´æ¦‚ç‡ */}
              {Number(forecast.precip) > 0 && (
                <div className="ml-3 text-blue-500">
                  <Icon name="Droplets" size={16} className="inline" />
                  <span className="text-xs ml-1">{forecast.precip}mm</span>
                </div>
              )}
            </div>
          </Card>
        );
      })}
    </div>
  );
};
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] é¢„æŠ¥åˆ—è¡¨æ˜¾ç¤ºæ­£ç¡®ï¼ˆè§„åˆ™1ï¼šæ˜¾ç¤º7å¤©é¢„æŠ¥æ•°æ®ï¼‰
- [ ] æ—¥æœŸæ ¼å¼åŒ–æ­£ç¡®ï¼ˆè§„åˆ™1ï¼šä»Šå¤©/æ˜å¤©/å‘¨å‡ æ˜¾ç¤ºï¼‰
- [ ] å›¾æ ‡å’Œé¢œè‰²åŒ¹é…ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨getWeatherIconå’ŒgetWeatherColorï¼‰
- [ ] äº¤äº’åŠ¨ç”»æµç•…ï¼ˆéœ€æ±‚2ï¼š2ç§’å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»ï¼‰
- [ ] å¤ç”¨å·¥å…·å‡½æ•°ï¼ˆè§„åˆ™2ï¼šå¤ç”¨getWeatherIcon/Colorï¼‰
- [ ] ç»„ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š6ï¼šForecastListä½¿ç”¨PascalCaseï¼‰
- [ ] å‡½æ•°å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š2ï¼šformatDateä½¿ç”¨camelCaseï¼‰

---

### æ­¥éª¤ 4.4ï¼šåˆ›å»º24å°æ—¶é¢„æŠ¥ç»„ä»¶

**é€‚ç”¨è§„èŒƒ**: 
- å‘½åçº¦å®š [çº¦å®š 2] å‡½æ•°å‘½å (camelCase) â†’ ç¬¬54è¡Œ
  - formatHourå‡½æ•°ä½¿ç”¨camelCaseï¼ŒåŠ¨è¯å¼€å¤´
- å‘½åçº¦å®š [çº¦å®š 6] ç»„ä»¶å‘½å (PascalCase) â†’ ç¬¬190è¡Œ
  - HourlyForecastç»„ä»¶ä½¿ç”¨PascalCase
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI â†’ ç¬¬48è¡Œ
  - å¤ç”¨Cardã€Iconç»„ä»¶å’ŒgetWeatherIconå·¥å…·å‡½æ•°
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - æä¾›å®Œæ•´çš„24å°æ—¶é¢„æŠ¥å®ç°ï¼ŒåŒ…æ‹¬æ¨ªå‘æ»šåŠ¨
- å‘½åçº¦å®š [çº¦å®š 1] å˜é‡å‘½å (camelCase) â†’ ç¬¬20è¡Œ
  - scrollRefå˜é‡ä½¿ç”¨camelCase

**åˆ›å»º src/components/Weather/HourlyForecast.tsx**:

```typescript
import React, { useRef } from 'react';
import { Card } from '@/components/Card';
import { Icon } from '@/components/Icon';
import { getWeatherIcon, getWeatherColor } from '@/constants/weather-icons';
import type { HourlyWeather } from '@/types/weather';
import { cn } from '@/utils/cn';

export interface HourlyForecastProps {
  hourlyData: HourlyWeather[];
  className?: string;
}

/**
 * HourlyForecast 24å°æ—¶é¢„æŠ¥ç»„ä»¶
 * æ¨ªå‘æ»šåŠ¨æ˜¾ç¤ºé€å°æ—¶å¤©æ°”
 */
export const HourlyForecast: React.FC<HourlyForecastProps> = ({
  hourlyData,
  className,
}) => {
  const scrollRef = useRef<HTMLDivElement>(null);

  /**
   * æ ¼å¼åŒ–å°æ—¶æ˜¾ç¤º
   */
  const formatHour = (timeStr: string): string => {
    const date = new Date(timeStr);
    const now = new Date();

    if (date.getHours() === now.getHours() && 
        date.getDate() === now.getDate()) {
      return 'ç°åœ¨';
    }

    return date.toLocaleTimeString('zh-CN', {
      hour: '2-digit',
      minute: '2-digit',
      hour12: false
    });
  };

  return (
    <div className={cn(className)}>
      <h3 className="text-lg font-bold text-blue-900 mb-3">
        <Icon name="Clock" size={20} className="inline mr-2" />
        24å°æ—¶é¢„æŠ¥
      </h3>

      <div 
        ref={scrollRef}
        className="flex space-x-3 overflow-x-auto pb-2 scrollbar-hide"
        style={{ scrollBehavior: 'smooth' }}
      >
        {hourlyData.map((hour, index) => {
          const icon = getWeatherIcon(hour.icon);
          const color = getWeatherColor(hour.icon);

          return (
            <Card
              key={hour.fxTime}
              variant="glass"
              padding="sm"
              hoverable
              className="flex-shrink-0 w-20 text-center"
            >
              {/* æ—¶é—´ */}
              <div className="text-xs text-blue-600 mb-2 font-medium">
                {formatHour(hour.fxTime)}
              </div>

              {/* å¤©æ°”å›¾æ ‡ */}
              <Icon 
                name={icon} 
                size={28} 
                color={color}
                className="mx-auto mb-2"
              />

              {/* æ¸©åº¦ */}
              <div className="text-lg font-bold text-blue-900 mb-1">
                {Math.round(Number(hour.temp))}Â°
              </div>

              {/* é™æ°´æ¦‚ç‡ */}
              {Number(hour.pop) > 30 && (
                <div className="text-xs text-blue-500">
                  <Icon name="Droplets" size={12} className="inline" />
                  <span className="ml-1">{hour.pop}%</span>
                </div>
              )}

              {/* é£å‘é£é€Ÿ */}
              <div className="text-xs text-blue-500 mt-1">
                {hour.windDir}
                <br />
                {hour.windScale}çº§
              </div>
            </Card>
          );
        })}
      </div>

      {/* æ·»åŠ è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */}
      <style>{`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `}</style>
    </div>
  );
};
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ¨ªå‘æ»šåŠ¨æ­£å¸¸ï¼ˆè§„åˆ™1ï¼šå®ç°smoothæ»šåŠ¨æ•ˆæœï¼‰
- [ ] æ—¶é—´æ ¼å¼åŒ–æ­£ç¡®ï¼ˆè§„åˆ™1ï¼šç°åœ¨/HH:mmæ˜¾ç¤ºï¼‰
- [ ] é™æ°´æ¦‚ç‡æ˜¾ç¤ºåˆç†ï¼ˆè§„åˆ™9ï¼šä»…å½“>30%æ—¶æ˜¾ç¤ºï¼‰
- [ ] æ»šåŠ¨æ¡æ ·å¼ç¾è§‚ï¼ˆéœ€æ±‚1ï¼šéšè—æ»šåŠ¨æ¡ï¼Œä¿æŒç®€æ´ï¼‰
- [ ] ç»„ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š6ï¼šHourlyForecastä½¿ç”¨PascalCaseï¼‰
- [ ] å‡½æ•°å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š2ï¼šformatHourä½¿ç”¨camelCaseï¼‰
- [ ] å˜é‡å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š1ï¼šscrollRefä½¿ç”¨camelCaseï¼‰
- [ ] å¤ç”¨ç°æœ‰ç»„ä»¶ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨Cardã€Iconç»„ä»¶ï¼‰

---

### æ­¥éª¤ 4.5ï¼šåˆ›å»ºå¤©æ°”è¯¦æƒ…ç»„ä»¶

**é€‚ç”¨è§„èŒƒ**: 
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 11] ä¸¥æ ¼éµå¾ªæä¾›çš„ç¤ºä¾‹ â†’ ç¬¬183è¡Œ
  - æ ¹æ®åŸå‹è®¾è®¡å®ç°2x2ç½‘æ ¼å¸ƒå±€å±•ç¤ºè¯¦ç»†æ•°æ®
- å‘½åçº¦å®š [çº¦å®š 6] ç»„ä»¶å‘½å (PascalCase) â†’ ç¬¬190è¡Œ
  - WeatherDetailç»„ä»¶ä½¿ç”¨PascalCase
- å‘½åçº¦å®š [çº¦å®š 10] ç±»å‹/æ¥å£å‘½å (PascalCase) â†’ ç¬¬315è¡Œ
  - DetailItemæ¥å£ä½¿ç”¨PascalCase
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - æä¾›å®Œæ•´çš„8ä¸ªå¤©æ°”æŒ‡æ ‡æ˜¾ç¤º
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI â†’ ç¬¬48è¡Œ
  - å¤ç”¨Cardã€Iconç»„ä»¶

**åˆ›å»º src/components/Weather/WeatherDetail.tsx**:

```typescript
import React from 'react';
import { Card } from '@/components/Card';
import { Icon } from '@/components/Icon';
import type { IconName } from '@/components/Icon';
import type { CurrentWeather } from '@/types/weather';
import { cn } from '@/utils/cn';

export interface WeatherDetailProps {
  weather: CurrentWeather;
  className?: string;
}

interface DetailItem {
  icon: IconName;
  label: string;
  value: string;
  unit: string;
  color: string;
}

/**
 * WeatherDetail å¤©æ°”è¯¦æƒ…ç»„ä»¶
 * æ˜¾ç¤ºå®Œæ•´çš„å¤©æ°”æŒ‡æ ‡ä¿¡æ¯
 */
export const WeatherDetail: React.FC<WeatherDetailProps> = ({
  weather,
  className,
}) => {
  const details: DetailItem[] = [
    {
      icon: 'Thermometer',
      label: 'ä½“æ„Ÿæ¸©åº¦',
      value: weather.feelsLike,
      unit: 'Â°C',
      color: '#FF6B6B',
    },
    {
      icon: 'Droplets',
      label: 'ç›¸å¯¹æ¹¿åº¦',
      value: weather.humidity,
      unit: '%',
      color: '#4ECDC4',
    },
    {
      icon: 'Wind',
      label: 'é£é€Ÿ',
      value: weather.windSpeed,
      unit: 'km/h',
      color: '#95E1D3',
    },
    {
      icon: 'Navigation',
      label: 'é£å‘',
      value: weather.windDir,
      unit: '',
      color: '#FFD93D',
    },
    {
      icon: 'Gauge',
      label: 'æ°”å‹',
      value: weather.pressure,
      unit: 'hPa',
      color: '#6C5CE7',
    },
    {
      icon: 'Eye',
      label: 'èƒ½è§åº¦',
      value: weather.vis,
      unit: 'km',
      color: '#74B9FF',
    },
    {
      icon: 'CloudRain',
      label: 'é™æ°´é‡',
      value: weather.precip,
      unit: 'mm',
      color: '#0984E3',
    },
    {
      icon: 'Cloud',
      label: 'äº‘é‡',
      value: weather.cloud,
      unit: '%',
      color: '#B2BEC3',
    },
  ];

  return (
    <div className={cn(className)}>
      <h3 className="text-lg font-bold text-blue-900 mb-3">
        <Icon name="Info" size={20} className="inline mr-2" />
        å¤©æ°”è¯¦æƒ…
      </h3>

      <div className="grid grid-cols-2 gap-3">
        {details.map((detail) => (
          <Card
            key={detail.label}
            variant="glass"
            hoverable
            padding="md"
          >
            <div className="flex items-center space-x-3">
              <div 
                className="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center"
                style={{ background: `${detail.color}20` }}
              >
                <Icon name={detail.icon} size={20} color={detail.color} />
              </div>

              <div className="flex-1">
                <div className="text-xs text-blue-600 mb-1">
                  {detail.label}
                </div>
                <div className="text-lg font-bold text-blue-900">
                  {detail.value}
                  <span className="text-sm text-blue-600 ml-1">
                    {detail.unit}
                  </span>
                </div>
              </div>
            </div>
          </Card>
        ))}
      </div>
    </div>
  );
};
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰å¤©æ°”æŒ‡æ ‡æ˜¾ç¤ºå®Œæ•´ï¼ˆè§„åˆ™1ï¼š8ä¸ªæŒ‡æ ‡åŒ…æ‹¬ä½“æ„Ÿæ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿã€é£å‘ã€æ°”å‹ã€èƒ½è§åº¦ã€é™æ°´é‡ã€äº‘é‡ï¼‰
- [ ] å›¾æ ‡å’Œé¢œè‰²ç¾è§‚ï¼ˆè§„åˆ™11ï¼šæ¯ä¸ªæŒ‡æ ‡ä½¿ç”¨ä¸åŒé¢œè‰²å’Œå›¾æ ‡ï¼‰
- [ ] å¸ƒå±€å“åº”å¼ï¼ˆéœ€æ±‚6ï¼š2x2ç½‘æ ¼å¸ƒå±€ï¼‰
- [ ] å¡ç‰‡äº¤äº’æ­£å¸¸ï¼ˆéœ€æ±‚2ï¼šhoveræ•ˆæœï¼‰
- [ ] ç»„ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š6ï¼šWeatherDetailä½¿ç”¨PascalCaseï¼‰
- [ ] æ¥å£å®šä¹‰å®Œæ•´ï¼ˆçº¦å®š10ï¼šDetailItemæ¥å£ä½¿ç”¨PascalCaseï¼‰
- [ ] å¤ç”¨ç°æœ‰ç»„ä»¶ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨Cardã€Iconç»„ä»¶ï¼‰

---

### æ­¥éª¤ 4.6ï¼šåˆ›å»ºç»„ä»¶ç»Ÿä¸€å¯¼å‡º

**é€‚ç”¨è§„èŒƒ**: 
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 2] å¤ç”¨ç°æœ‰ä»£ç å’ŒAPI â†’ ç¬¬48è¡Œ
  - åˆ›å»ºç»Ÿä¸€å¯¼å‡ºæ–‡ä»¶ä¾¿äºå…¶ä»–æ¨¡å—å¤ç”¨å¤©æ°”ç»„ä»¶
- å‘½åçº¦å®š [çº¦å®š 5] æ–‡ä»¶å‘½å (kebab-case) â†’ ç¬¬154è¡Œ
  - ä½¿ç”¨index.tsä½œä¸ºæ¨¡å—å…¥å£æ–‡ä»¶
- å¼€å‘éœ€æ±‚è§„èŒƒ [è§„åˆ™ 1] ç”Ÿæˆå®Œæ•´å¯è¿è¡Œä»£ç  â†’ ç¬¬20è¡Œ
  - å¯¼å‡ºæ‰€æœ‰å¤©æ°”ç»„ä»¶å’Œç±»å‹å®šä¹‰

**åˆ›å»º src/components/Weather/index.ts**:

```typescript
/**
 * å¤©æ°”ç»„ä»¶ç»Ÿä¸€å¯¼å‡º
 */

export { WeatherCard } from './WeatherCard';
export type { WeatherCardProps } from './WeatherCard';

export { ForecastList } from './ForecastList';
export type { ForecastListProps } from './ForecastList';

export { HourlyForecast } from './HourlyForecast';
export type { HourlyForecastProps } from './HourlyForecast';

export { WeatherDetail } from './WeatherDetail';
export type { WeatherDetailProps } from './WeatherDetail';
```

**æ›´æ–° src/components/index.ts**:

```typescript
// ... ç°æœ‰å¯¼å‡º ...

export * from './Weather';
```

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰ç»„ä»¶æ­£ç¡®å¯¼å‡ºï¼ˆè§„åˆ™1ï¼šå¯¼å‡ºWeatherCardã€ForecastListã€HourlyForecastã€WeatherDetailï¼‰
- [ ] ç±»å‹å®šä¹‰æ­£ç¡®å¯¼å‡ºï¼ˆè§„åˆ™1ï¼šå¯¼å‡ºæ‰€æœ‰Propsæ¥å£ï¼‰
- [ ] å¯¼å…¥è·¯å¾„ç®€æ´ï¼ˆè§„åˆ™2ï¼šä½¿ç”¨@/components/Weatherç»Ÿä¸€å¯¼å…¥ï¼‰
- [ ] æ–‡ä»¶å‘½åç¬¦åˆè§„èŒƒï¼ˆçº¦å®š5ï¼šä½¿ç”¨index.tsï¼‰

---

## ğŸ“Š é˜¶æ®µéªŒæ”¶æ¸…å•

### ç»„ä»¶åŠŸèƒ½éªŒæ”¶
- [ ] WeatherCard æ˜¾ç¤ºæ­£ç¡®
- [ ] ForecastList æ˜¾ç¤ºæ­£ç¡®
- [ ] HourlyForecast æ˜¾ç¤ºæ­£ç¡®
- [ ] WeatherDetail æ˜¾ç¤ºæ­£ç¡®

### å‘½åè§„èŒƒéªŒæ”¶
- [ ] ç»„ä»¶åä½¿ç”¨ PascalCase
- [ ] Propsæ¥å£ä½¿ç”¨ PascalCase + Propsåç¼€
- [ ] å‡½æ•°åä½¿ç”¨ camelCase
- [ ] å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE

### è§†è§‰æ•ˆæœéªŒæ”¶
- [ ] å¤©æ°”å›¾æ ‡æ­£ç¡®æ˜ å°„
- [ ] é¢œè‰²ä¸»é¢˜åè°ƒç»Ÿä¸€
- [ ] åŠ¨ç”»æ•ˆæœæµç•…
- [ ] æ¯›ç»ç’ƒæ•ˆæœç¾è§‚

### ä»£ç è´¨é‡éªŒæ”¶
- [ ] ç»„ä»¶å¯å¤ç”¨æ€§å¥½
- [ ] ç±»å‹å®šä¹‰å®Œæ•´
- [ ] æ³¨é‡Šæ¸…æ™°
- [ ] æ— TypeScripté”™è¯¯

---

## ğŸ“ ä¸‹ä¸€æ­¥

å®Œæˆæœ¬é˜¶æ®µåï¼Œè¯·ç»§ç»­é˜…è¯»ï¼š
- **é˜¶æ®µ5ï¼šæ ¸å¿ƒåŠŸèƒ½å®ç° - æ—¶é’Ÿå’ŒæŠ¥æ—¶**
- **é˜¶æ®µ6ï¼šå¹³å°é€‚é…å’ŒElectroné›†æˆ**

---

---

## ğŸ“š è§„èŒƒæ–‡ä»¶å¿«é€Ÿå‚è€ƒ

æœ¬æ–‡æ¡£å¼•ç”¨çš„æ‰€æœ‰è§„èŒƒæ¡æ¬¾è¯¦è§:

| è§„èŒƒç±»åˆ« | æ–‡ä»¶è·¯å¾„ | è§„åˆ™ç¼–å· | èµ·å§‹è¡Œ |
|---------|---------|---------|--------|
| å¼€å‘éœ€æ±‚è§„èŒƒ | `.qoder/rules/requirements-spec.zh-CN.md` | è§„åˆ™ 2 | ç¬¬48è¡Œ |
| å¼€å‘éœ€æ±‚è§„èŒƒ | `.qoder/rules/requirements-spec.zh-CN.md` | è§„åˆ™ 11 | ç¬¬183è¡Œ |
| å¼€å‘éœ€æ±‚è§„èŒƒ | `.qoder/rules/requirements-spec.zh-CN.md` | è§„åˆ™ 12 | ç¬¬191è¡Œ |
| å‘½åçº¦å®š | `.qoder/rules/naming-conventions.zh-CN.md` | çº¦å®š 2 | ç¬¬54è¡Œ |
| å‘½åçº¦å®š | `.qoder/rules/naming-conventions.zh-CN.md` | çº¦å®š 4 | ç¬¬118è¡Œ |
| å‘½åçº¦å®š | `.qoder/rules/naming-conventions.zh-CN.md` | çº¦å®š 6 | ç¬¬190è¡Œ |
| å‘½åçº¦å®š | `.qoder/rules/naming-conventions.zh-CN.md` | çº¦å®š 10 | ç¬¬307è¡Œ |
| æµ‹è¯•è§„èŒƒ | `.qoder/rules/testing-spec.zh-CN.md` | è§„åˆ™ 1 | ç¬¬20è¡Œ |
| æµ‹è¯•è§„èŒƒ | `.qoder/rules/testing-spec.zh-CN.md` | è§„åˆ™ 3 | ç¬¬75è¡Œ |
| é”™è¯¯å¤„ç†è§„èŒƒ | `.qoder/rules/error-handling-spec.zh-CN.md` | è§„åˆ™ 3 | ç¬¬116è¡Œ |
| éœ€æ±‚æ–‡æ¡£ | `requirements.md` | éœ€æ±‚1 | ç¬¬9-20è¡Œ |
| éœ€æ±‚æ–‡æ¡£ | `requirements.md` | éœ€æ±‚2 | ç¬¬21-34è¡Œ |
| éœ€æ±‚æ–‡æ¡£ | `requirements.md` | éœ€æ±‚6 | ç¬¬72-84è¡Œ |
| éœ€æ±‚æ–‡æ¡£ | `requirements.md` | éœ€æ±‚15 | ç¬¬201-222è¡Œ |

**ä½¿ç”¨æ–¹æ³•**:
1. åœ¨IDEä¸­ä½¿ç”¨ `Ctrl+G` (æˆ– `Cmd+G`) è·³è½¬åˆ°æŒ‡å®šè¡Œå·
2. æˆ–åœ¨Qoderä¸­ä½¿ç”¨ `@æ–‡ä»¶è·¯å¾„` ç›´æ¥æ‰“å¼€è§„èŒƒæ–‡ä»¶

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1  
**æ›´æ–°æ—¥æœŸ**: 2025-11-13  
**ç»´æŠ¤å›¢é˜Ÿ**: å¤©æ°”é¸­å¼€å‘å›¢é˜Ÿ

### ä¿®è®¢å†å²
- v1.1 (2025-11-13)
  - è¡¥å……æ ‡å‡†ç« èŠ‚ï¼ˆæ¦‚è¿°/æ¥å£/å‚æ•°/å“åº”/é”™è¯¯/ç¤ºä¾‹ï¼‰
  - ä¼˜åŒ–ç¤ºä¾‹ä»£ç ä»¥æ»¡è¶³å¯ç›´æ¥è¿è¡Œçš„è¦æ±‚
  - æœ¯è¯­ä¸é”™è¯¯ç å¯¹é½åˆ°é¡¹ç›®å®ç°ï¼ˆv1ï¼‰
  - æ›´æ–°ç‰ˆæœ¬å·ä¸æ—¥æœŸ
